<!DOCTYPE html>
<html lang="en">
	<head>
		<title>building generator</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				background-color: #222;
			}
			a {
				color: #f80;
			}
		</style>
	</head>

	<body>

		<script type="module">
			import * as THREE from '../build/three.module.js';
			import { TrackballControls } from './jsm/controls/TrackballControls.js';
			var camera, scene, renderer, controls, light;
			init();
			animate();
			function init() {
				renderer = new THREE.WebGLRenderer();
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				document.body.appendChild( renderer.domElement );
				scene = new THREE.Scene();
				scene.background = new THREE.Color( 0x222222 );
				camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 1000 );
				camera.position.set( 0, 0, 50 );
				controls = new TrackballControls( camera, renderer.domElement );
				controls.zoom=0.05;
				controls.rotateSpeed = 2.0;
				controls.zoomSpeed = 0.2;
				controls.panSpeed = 0.8;
				controls.staticMoving = false;
				controls.dynamicDampingFactor = 0.1;
				controls.keys = [ 65, 83, 68 ];

				scene.add( new THREE.AmbientLight( 0x222222 ) );
				light = new THREE.PointLight( 0xffffff );
				light.position.copy( camera.position );
				scene.add( light );
				//
				/*var closedSpline = new THREE.CatmullRomCurve3( [
					new THREE.Vector3( - 60, - 100, 60 ),
					new THREE.Vector3( - 60, 20, 60 ),
					new THREE.Vector3( - 60, 120, 60 ),
					new THREE.Vector3( 60, 20, - 60 ),
					new THREE.Vector3( 60, - 100, - 60 )
				] );
				closedSpline.curveType = 'catmullrom';
				closedSpline.closed = true;
				var extrudeSettings = {
					steps: 100,
					bevelEnabled: false,
					extrudePath: closedSpline
				};
				var geometry = new THREE.Geometry();
geometry.vertices.push(
	new THREE.Vector3( -10, 0, 0 ),
	new THREE.Vector3( 0, 10, 0 ),
	new THREE.Vector3( 10, 0, 0 )
);
				var extrudeSettings = {
					steps: 100,
					bevelEnabled: false,
					extrudePath: geometry
				};
				var pts = [], count = 3;
				for ( var i = 0; i < count; i ++ ) {
					var l = 20;
					var a = 2 * i / count * Math.PI;
					pts.push( new THREE.Vector2( Math.cos( a ) * l, Math.sin( a ) * l ) );
				}
				var shape = new THREE.Shape( pts );
				var geometry = new THREE.ExtrudeBufferGeometry( shape, extrudeSettings );
				var material = new THREE.MeshLambertMaterial( { color: 0xb00000, wireframe: false } );
				var mesh = new THREE.Mesh( geometry, material );
				scene.add( mesh );
				//
				var randomPoints = [];
				for ( var i = 0; i < 10; i ++ ) {
					randomPoints.push( new THREE.Vector3( ( i - 4.5 ) * 50, THREE.Math.randFloat( - 50, 50 ), THREE.Math.randFloat( - 50, 50 ) ) );
				}
				var randomSpline = new THREE.CatmullRomCurve3( randomPoints );
				//
				var extrudeSettings = {
					steps: 200,
					bevelEnabled: false,
					extrudePath: randomSpline
				};
				var pts = [], numPts = 5;
				for ( var i = 0; i < numPts * 2; i ++ ) {
					var l = i % 2 == 1 ? 10 : 20;
					var a = i / numPts * Math.PI;
					pts.push( new THREE.Vector2( Math.cos( a ) * l, Math.sin( a ) * l ) );
				}
				var shape = new THREE.Shape( pts );
				var geometry = new THREE.ExtrudeBufferGeometry( shape, extrudeSettings );
				var material2 = new THREE.MeshLambertMaterial( { color: 0xff8000, wireframe: false } );
				var mesh = new THREE.Mesh( geometry, material2 );
				scene.add( mesh );
				//
				*/
				var pts = []; //half house roof
				pts.push( new THREE.Vector2(  0,   0 ));
				pts.push( new THREE.Vector2(  0, -10 ));
				pts.push( new THREE.Vector2( -10, -10 ));
				pts.push( new THREE.Vector2( -10,  10 ));

				var pts1 = []; //cube
				pts1.push( new THREE.Vector2(   0,  0 ));
				pts1.push( new THREE.Vector2(   0,-10 ));
				pts1.push( new THREE.Vector2( -10,-10 ));
				pts1.push( new THREE.Vector2( -10,  0 ));

				var pts2 = []; //full house roof
				pts2.push( new THREE.Vector2(   0,  0 ));
				pts2.push( new THREE.Vector2(   0,-10 ));
				pts2.push( new THREE.Vector2( -10,-10 ));
				pts2.push( new THREE.Vector2(   0 -10 ));
				pts2.push( new THREE.Vector2(  -5,  10 ));

				var pts3 = new THREE.CircleGeometry( 5, 32 );













				/*for ( var i = 0; i < numPts * 2; i ++ ) {
					var l = i % 2 == 1 ? 10 : 20;
					var a = i / numPts * Math.PI;
					pts.push( new THREE.Vector2( Math.cos( a ) * l, Math.sin( a ) * l ) );

				}
				*/
				var shape = new THREE.Shape( pts2 );


				var shape = new THREE.Shape( );
		   //shape.moveTo(20.0, 10.0);
		   //shape.bezierCurveTo(26.0, 10.0, 30.0, 14.0, 30.0, 20.0);
		   //shape.bezierCurveTo(30.0, 26.0, 26.0, 30.0, 20.0, 30.0);
		   //shape.bezierCurveTo(14.0, 30.0, 10.0, 26.0, 10.0, 20.0);
		   //shape.bezierCurveTo(10.0, 14.0, 14.0, 10.0, 20.0, 10.0);

			 var shape = new THREE.Shape( );
			 var shape = new THREE.Shape( );
		   shape.moveTo(20.1, 10);
		   shape.bezierCurveTo(20, 10, 30, 10, 30, 10);
		   shape.bezierCurveTo(30, 10, 40, 10, 30, 20);
		   shape.bezierCurveTo(20, 30, 20, 20, 20, 20);
		   shape.bezierCurveTo(20, 20, 20, 10, 20, 10);






			 								

				var materials = [
					 new THREE.MeshLambertMaterial( {color: 0x663333, specular: 0xddcccc, reflectivity: 0.8, shininess: 0.8, wireframe: false } ),
					 new THREE.MeshLambertMaterial( {color:0xddccaa , specular: 0xffffff, reflectivity: 0.3, shininess: 0.4, wireframe: false } )
				];
				var extrudeSettings = {
					depth: 10,
					steps: 1,
					bevelEnabled: false,
					bevelThickness: 2,
					bevelSize: 4,
					bevelSegments: 1
				};
				var geometry = new THREE.ExtrudeBufferGeometry( shape, extrudeSettings );
				geometry.center();
				var mesh = new THREE.Mesh( geometry, materials );
				mesh.position.set( 0, 0, 0 );
				scene.add( mesh );
			}
			function animate() {
				requestAnimationFrame( animate );
				controls.update();
				light.position.copy( camera.position );
				renderer.render( scene, camera );
			}
		</script>

	</body>

</html>
